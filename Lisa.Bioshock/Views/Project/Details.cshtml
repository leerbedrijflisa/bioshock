@model Project

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";   
}

@if (Model != null) 
{
    <input type="hidden" value="@Model.ID" id="ProjectID" />
}

<script type="text/javascript">
    // Global instance of the BioshockWorkspace that can be used by other classes.
    console.log = function (message) { };
    $(function () {

        $("#preview").contents().html('');
        workspace = new Workspace($("#ProjectID").val(), "#preview");
        workspace.stateMachine.switchState(new PreviewState);
    });

</script>

<iframe id="preview" frameborder="0" data-file-id="" src="/Project/@Model.ID/File/"></iframe>
@Html.Partial("_EditorWindow")
@Html.Partial("_EditorMenuWindow")
@Html.Partial("_NewFileWindow")
@Html.Partial("_OpenFileWindow")